<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: OfflineCache</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: OfflineCache</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>OfflineCache<span class="signature">(name, persistencestore)</span><span class="type-signature"></span></h2>
        
            <div class="class-description">Offline Persistence Toolkit implementation of the standard<a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache">Cache API</a>.In additional to functionalities provided by the standard Cache API, thisOfflineCache also interacts with shredding methods for more fine-graincaching.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="OfflineCache"><span class="type-signature"></span>new OfflineCache<span class="signature">(name, persistencestore)</span><span class="type-signature"></span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">name of the cache</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>persistencestore</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">instance for cache storage</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="persistenceManager.js.html">persistenceManager.js</a>, <a href="persistenceManager.js.html#line678">line 678</a>
    </li></ul></dd>
    

    

    

    
</dl>


















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="..upsertAll"><span class="type-signature">(static) </span>.upsertAll<span class="signature">(requests)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Bulk operation of add.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>requests</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">An array of Request</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="persistenceManager.js.html">persistenceManager.js</a>, <a href="persistenceManager.js.html#line713">line 713</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Returns a promise when all the requests in the array are handled.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="add"><span class="type-signature"></span>##add<span class="signature">(request)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Takes a request, retrieves it and adds the resulting responseobject to the cache.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type">Request</span>


            
            </td>

            

            

            <td class="description last">The request object to fetch for response                         and be cached.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="persistenceManager.js.html">persistenceManager.js</a>, <a href="persistenceManager.js.html#line700">line 700</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    returns a Promise that is resolved when the reponse                          is retrieved and request/response is cached.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="delete"><span class="type-signature"></span>##delete<span class="signature">(request, options)</span><span class="type-signature"> &rarr; {Promse}</span></h4>
    

    



<div class="description">
    Delete the all the entries in the cache that matches the passed-in request withthe specified options.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type">Request</span>


            
            </td>

            

            

            <td class="description last">The request object to match against</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Options to control the matching operation<ul><li>options.ignoreSearch A Boolean that specifies whether to ignore                         the query string in the url.  For example,                         if set to true the ?value=bar part of                         http://foo.com/?value=bar would be ignored                         when performing a match. It defaults to false.</li><li>options.ignoreMethod A Boolean that, when set to true, prevents                         matching operations from validating the                         Request http method (normally only GET and                         HEAD are allowed.) It defaults to false.</li><li>options.ignoreVary A Boolean that when set to true tells the                         matching operation not to perform VARY header                         matching — i.e. if the URL matches you will get                         a match regardless of whether the Response                         object has a VARY header. It defaults to false.</li></ul></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="persistenceManager.js.html">persistenceManager.js</a>, <a href="persistenceManager.js.html#line791">line 791</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Finds the Cache entry whose key is the request, and if found,                 deletes the Cache entry and returns a Promise that resolves to                 true. If no Cache entry is found, it returns a Promise that                 resolves to false.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promse</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getName"><span class="type-signature"></span>##getName<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Retrieve the name of the cache object.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="persistenceManager.js.html">persistenceManager.js</a>, <a href="persistenceManager.js.html#line691">line 691</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Returns the name of the cache object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="hasMatch"><span class="type-signature"></span>##hasMatch<span class="signature">(request, options)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Checks if a match to this request with the specified options exist in thecache or not. This is an optimization over match because we don't need toquery out the shredded data to fill the response body.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type">Request</span>


            
            </td>

            

            

            <td class="description last">The request object to match against</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Options to control the matching operation<ul><li>options.ignoreSearch A Boolean that specifies whether to ignore                         the query string in the url.  For example,                         if set to true the ?value=bar part of                         http://foo.com/?value=bar would be ignored                         when performing a match. It defaults to false.</li><li>options.ignoreMethod A Boolean that, when set to true, prevents                         matching operations from validating the                         Request http method (normally only GET and                         HEAD are allowed.) It defaults to false.</li><li>options.ignoreVary A Boolean that when set to true tells the                         matching operation not to perform VARY header                         matching — i.e. if the URL matches you will get                         a match regardless of whether the Response                         object has a VARY header. It defaults to false.</li></ul></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="persistenceManager.js.html">persistenceManager.js</a>, <a href="persistenceManager.js.html#line849">line 849</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Returns a promise that resolves to true if a match exist                  while false otherwise.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="keys"><span class="type-signature"></span>##keys<span class="signature">(request, options)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Retrieves all the keys in this cache.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type">Request</span>


            
            </td>

            

            

            <td class="description last">The request object to match against</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Options to control the matching operation<ul><li>options.ignoreSearch A Boolean that specifies whether to ignore                         the query string in the url.  For example,                         if set to true the ?value=bar part of                         http://foo.com/?value=bar would be ignored                         when performing a match. It defaults to false.</li><li>options.ignoreMethod A Boolean that, when set to true, prevents                         matching operations from validating the                         Request http method (normally only GET and                         HEAD are allowed.) It defaults to false.</li><li>options.ignoreVary A Boolean that when set to true tells the                         matching operation not to perform VARY header                         matching — i.e. if the URL matches you will get                         a match regardless of whether the Response                         object has a VARY header. It defaults to false.</li></ul></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="persistenceManager.js.html">persistenceManager.js</a>, <a href="persistenceManager.js.html#line822">line 822</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Returns a promise that resolves to an array of Cache keys.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="match"><span class="type-signature"></span>##match<span class="signature">(a, options)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Find the first response in this Cache object that match the request with the options.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>a</code></td>
            

            <td class="type">
            
                
<span class="param-type">Request</span>


            
            </td>

            

            

            <td class="description last">request object to match against</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Options to control the matching operation<ul><li>options.ignoreSearch A Boolean that specifies whether to ignore                         the query string in the url.  For example,                         if set to true the ?value=bar part of                         http://foo.com/?value=bar would be ignored                         when performing a match. It defaults to false.</li><li>options.ignoreMethod A Boolean that, when set to true, prevents                         matching operations from validating the                         Request http method (normally only GET and                         HEAD are allowed.) It defaults to false.</li><li>options.ignoreVary A Boolean that when set to true tells the                         matching operation not to perform VARY header                         matching — i.e. if the URL matches you will get                         a match regardless of whether the Response                         object has a VARY header. It defaults to false.</li></ul></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="persistenceManager.js.html">persistenceManager.js</a>, <a href="persistenceManager.js.html#line722">line 722</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Returns a Promise that resolves to the Response associated with the                          first matching request in the Cache object. If no match is                          found, the Promise resolves to undefined.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="matchAll"><span class="type-signature"></span>##matchAll<span class="signature">(request, options)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Finds all responses whose request matches the passed-in request with the specifiedoptions.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type">Request</span>


            
            </td>

            

            

            <td class="description last">The request object to match against</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Options to control the matching operation<ul><li>options.ignoreSearch A Boolean that specifies whether to ignore                         the query string in the url.  For example,                         if set to true the ?value=bar part of                         http://foo.com/?value=bar would be ignored                         when performing a match. It defaults to false.</li><li>options.ignoreMethod A Boolean that, when set to true, prevents                         matching operations from validating the                         Request http method (normally only GET and                         HEAD are allowed.) It defaults to false.</li><li>options.ignoreVary A Boolean that when set to true tells the                         matching operation not to perform VARY header                         matching — i.e. if the URL matches you will get                         a match regardless of whether the Response                         object has a VARY header. It defaults to false.</li></ul></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="persistenceManager.js.html">persistenceManager.js</a>, <a href="persistenceManager.js.html#line751">line 751</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Returns a Promise that resolves to an array of response objects                           whose request matches the passed-in request.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="put"><span class="type-signature"></span>##put<span class="signature">(request, response)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Add the request/response pair into the cache.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type">Request</span>


            
            </td>

            

            

            <td class="description last">Request object of the pair</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>response</code></td>
            

            <td class="type">
            
                
<span class="param-type">Response</span>


            
            </td>

            

            

            <td class="description last">Response object of the pair</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="persistenceManager.js.html">persistenceManager.js</a>, <a href="persistenceManager.js.html#line780">line 780</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Returns a promise when the request/response pair is cached.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="cacheStrategies.html">cacheStrategies</a></li><li><a href="DefaultResponseProxy.html">DefaultResponseProxy</a></li><li><a href="fetchStrategies.html">fetchStrategies</a></li><li><a href="LocalPersistenceStoreFactory.html">LocalPersistenceStoreFactory</a></li><li><a href="OfflineCache.html">OfflineCache</a></li><li><a href="oracleRestJsonShredding.html">oracleRestJsonShredding</a></li><li><a href="PersistenceManager.html">PersistenceManager</a></li><li><a href="PersistenceRegistration.html">PersistenceRegistration</a></li><li><a href="PersistenceStore.html">PersistenceStore</a></li><li><a href="PersistenceStoreFactory.html">PersistenceStoreFactory</a></li><li><a href="PersistenceStoreManager.html">PersistenceStoreManager</a></li><li><a href="PersistenceSyncManager.html">PersistenceSyncManager</a></li><li><a href="persistenceUtils.html">persistenceUtils</a></li><li><a href="PouchDBPersistenceStoreFactory.html">PouchDBPersistenceStoreFactory</a></li><li><a href="queryHandlers.html">queryHandlers</a></li><li><a href="simpleJsonShredding.html">simpleJsonShredding</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>